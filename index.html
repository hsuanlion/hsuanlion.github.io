<!DOCTYPE html>
<html>
<head>
	<title>Jam Jam's Notebook.</title>
	<meta charset="utf-8" />
	<link rel="stylesheet" type="text/css" href="style.css">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<!-- javascript-->
	<script src="javaScript/articles.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/1.8.6/showdown.min.js"></script>

	<script>

		var g_current_category = "All";
		var g_current_article_title = "";

		function convert_markdown_to_html(markdown) {
			var converter = new showdown.Converter();
			converter.setOption('parseImgDimensions', true);
			converter.setOption('tables', true);
			converter.setOption('strikethrough', true);
			converter.setOption('simpleLineBreaks', true);
			
		    var text      = markdown;
		    var html      = converter.makeHtml(text);
			return html;
		}

		function show_current_aritcle(){
			$("#content").empty();
			$.each(articles, function( index, article ){
				
				if (g_current_article_title == article.title )
				{	

					$("#content").append(			
						'<div class="article">' + 
						'<h1>' + article.title + '</h1>'+
						'<div class="date"' + article.date + '</div>' +
						'<div class="author">' + article.author + '</div>' +
						'<hr class="line">' +
						article.html + 
						'</div>');
				}	

			});
		}

		function refresh_aritcle_list(category){
			//$("#content").empty();
			$.each(articles, function( index, article ){
				
				if (category.includes(article.category) || category == "All")
				{	
					var url = new URL(window.location.href);
					var article_link = url.origin + url.pathname + '?a=' + encodeURI(article.title);

					$("#content").prepend(
						'<div class="articlelist">' +
						'<a href=' + article_link +'>' +
						'<h1>' + article.title + '</h1>' +
						'<span class="article_description">' + $(article.html).text().slice(0, 500) +
						'</span>' +
						'</a>'+
						'</div>');
				}	

			});
		}


		function load_articles (){

			var processed_count = 0;

			$.each(articles, function( index, value ) {


		  		jQuery.get(value.link, function(data) {
		    	
		    		value.html = convert_markdown_to_html(data);
		  
		    		if ( ++processed_count == articles.length){

		    			if(g_current_article_title){
		    				show_current_aritcle()
		    			} else {
		    				refresh_aritcle_list(g_current_category);
		    			}
		    		}
		    	});
			});
		}


		$(function() {
			/* The DOM is now loaded and can be manipulated. */
			var url_string = window.location.href; //window.location.href  
			var url = new URL(url_string);
			var article_title = url.searchParams.get("a");
			if (article_title) {
				g_current_article_title = decodeURI(article_title);
			}
			load_articles();

			$('#Cate_Python').click(function(event){
				refresh_aritcle_list(this.innerHTML);
			});
			$('#Cate_R').click(function(event){
				refresh_aritcle_list(this.innerHTML);
			});
			$('#Cate_SQL').click(function(event){
				refresh_aritcle_list(this.innerHTML);
			});
			
		});

	</script>
</head>
<body>
	<!--header part-->
	<div class="header">
		<div class="brand">
			<p><a href="#">Jam Jam's Note.</a></p>
		</div>
		<div class="nav">
			<ul class="nav-bar">
						<li><a href="#" id="Cate_Python">Python</a></li>
						<li><a href="#" id="Cate_R">R語言</a></li>
						<li><a href="#" id="Cate_SQL">SQL</a></li>
			</ul>
		</div>
		<div class="sitename">
			<h1> Jam Jam's Note.</h1>
			<span class="subsitename">認真的數據分析師。</span>
		</div>
	</div>

	<!--content part: with 1 column-->
	<div id="content">
		<div class="article">
			<h1><a href="#"> Article 1</a></h1>
			<div class="date">Apr. 28, 2018</div>
			<div class="author">by <b>hsuan</b></div>
			<hr class="line">
			<h2>subT</h2>
			<p>Behind the riches, discreetly managed by their family office in Austria, lies a dark history of one of Germany’s wealthiest industrial dynasties.</p>
			<p>Flick was released from prison in 1950, after the U.S. high commissioner for Germany granted controversial pardons to German industrialists. The U.S. and U.K. returned his money and business properties, including one Aryanized asset. He sold his coal businesses and invested the proceeds in numerous companies, including Daimler-Benz AG, eventually becoming the carmaker’s biggest shareholder.
			</p>
			
				<table>
						<tr class="first">
							<th></th>
							<th scope="col">Sat</th>
							<th scope="col">Sun</th>
						</tr>
						<tr>
							<th scope="row">tickets sold:</th>
							<td>120</td>
							<td>130</td>
						</tr>
						<tr class="even">
							<th scope="row">total sales:</th>
							<td class="money">$600</td>
							<td class="money">$675</td>
						</tr>
				</table>
				<div class="tblexp">珍珍門票販售數據</div>
			<h2>subT</h2>
			<p>
				Depositors are becoming more demanding: China Citic Bank International Ltd. is willing to shell out 3 percent to new savers who park funds for three months. HSBC can always rely on a strong deposits franchise in its most important market to lock in funds at 1.35 percent for six months. That pricing advantage means loans made by HSBC will be more competitive, profitable, or both. 
			</p>
			
			<img src="img/01_band_jam.png" alt="Jam" title="Jam" id="jam">	
			<!--<figcaption>Jam's band.</figcaption>-->
			
			<h2>subT</h2>
			<p>
				Money managers can anticipate how moves in one market will affect prices in another because most stocks, bonds, commodities and currencies have established relationships. Some investments (e.g. U.S. and European stocks) share characteristics that mean they tend to rise and fall together , whereas risky assets (emerging-market bonds) and safe havens (gold, the yen) usually move in opposite directions . Some assets simply have no correlation with each other. Investing in a portfolio of assets that behave in different ways can help to reduce the risk investors face.
			</p>

		</div>

		<div class="article">
			<h1><a href="#"> Article 2</a></h1>
			<div class="date">Apr. 01, 2018</div>
			<div class="author">by <b>bread</b></div>
			<hr class="line">
			<h2>subT</h2>
			<p>Behind the riches, discreetly managed by their family office in Austria, lies a dark history of one of Germany’s wealthiest industrial dynasties.</p>
			<p>Flick was released from prison in 1950, after the U.S. high commissioner for Germany granted controversial pardons to German industrialists. The U.S. and U.K. returned his money and business properties, including one Aryanized asset. He sold his coal businesses and invested the proceeds in numerous companies, including Daimler-Benz AG, eventually becoming the carmaker’s biggest shareholder.
			</p>
			<table>
							<tr class="first">
								<th></th>
								<th>9am</th>
								<th>10am</th>
								<th>11am</th>
								<th>12am</th>
							</tr>
							<tr>
								<th>Monday</th>
								<td colspan="2">geography</td>
								<td>Math</td>
								<td>Art</td>
							</tr>
							<tr class="even">
								<th>Tuesday</th>
								<td colspan="3">gym</td>
								<td>Home Ec</td>
							</tr>
			</table>
			<div class="tblexp">珍珍課表的資料</div>
			<h2>subT</h2>
			<p>
				Extreme volatility is perhaps the biggest argument against treating cryptocurrencies as you would the dollar or the euro. One of the cardinal rules for a good currency is that it should provide users with a stable store of value. You wouldn’t want to spend Bitcoin on groceries today if you thought the cryptocurrency’s value might soar tomorrow, or take your salary in Bitcoin if you thought it might plunge.
			</p>

			<table>
					<tr>
						<td><img src="img/02_band_bread.png" id="bread"></td>
						<td><img src="img/02_band_bread.png" id="bread"></td>
					</tr>
					<tr>
						<td><img src="img/02_band_bread.png" id="bread"></td>
						<td><img src="img/02_band_bread.png" id="bread"></td>
					</tr>
			</table>
			<div class="tblexp">布列德體態變化圖</div>
			<h2>subT</h2>	
			<p>
				Resulting government actions and reactions could escalate to the point where irreparable damage is done to relations between the two countries. China’s economic future is widely thought to depend on its technology sector -- and it will not stand idly by as the U.S. decimates some of its most important firms.
			</p>
		</div>

	</div>

	<!--footer part-->
	<div class="footer">
		<h5>&copy; 2018 Pei-Hsuan's Notebook.</h5>
		<a href="#">top</a>
	</div>
</body>
</html>